{"version":3,"sources":["Component/CartItems/CartItems.module.css","Component/BillDetails/BillItem.module.css","Containers/Promo/Promo.module.css","App.module.css","axios-cart.js","store/actions/actions.js","store/reducers/cartReducer.js","store/reducers/promotionReducer.js","store/reducers/index.js","Component/BillDetails/BillItem.js","Aux.js","Component/BillDetails/BillDetails.js","Component/CartItems/Item.js","Component/CartItems/Cart.js","Containers/Promo/PromoForm.js","Containers/Promo/Promo.js","App.js","index.js"],"names":["module","exports","Cart","CartItem","Detail","Price","BillItem","Label","Amount","Red","Total","PromoMessage","Promo","CheckoutWrapper","axiosInstance","axios","create","baseURL","setCartItems","cart","cartItems","Object","keys","map","key","objectSpread","id","subTotal","reduce","a","c","price","toFixed","taxes","type","billItems","estimatedTotal","setPromotions","promos","promotions","promo","initialState","savings","error","cartReducer","state","arguments","length","undefined","action","console","log","promotionReducer","toConsumableArray","combineReducers","_ref","label","amount","classes","style","styles","includes","react_default","createElement","className","join","parseFloat","Aux","props","children","BillDetails","items","item","BillDetails_BillItem","src_Aux","Item","name","image","description","src","alt","CartItems_Item","assign","PromoForm","promocode","componentDidMount","_this","onFetchPromos","handleSubmit","e","preventDefault","promotion","filter","toLowerCase","num","percentage","onSetPromotion","applyPromo","setState","_this2","this","form","value","placeholder","onChange","target","onSubmit","disabled","trim","Component","connect","dispatch","_ref2","asyncToGenerator","regenerator_default","mark","_callee2","response","wrap","_context2","prev","next","get","sent","data","t0","stop","_x2","apply","open","handleClick","prevState","promoText","onClick","Promo_PromoForm","App","_callee","_context","onfetchCartItems","calculateTotal","itemsTotal","total","toPrecision","onApplyPromo","_this$props","CartItems_Cart","Component_BillDetails_BillDetails","Containers_Promo_Promo","_x","middleware","thunk","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"4EACAA,EAAAC,QAAA,CAAkBC,KAAA,wBAAAC,SAAA,4BAAAC,OAAA,0BAAAC,MAAA,8CCAlBL,EAAAC,QAAA,CAAkBK,SAAA,2BAAAC,MAAA,wBAAAC,OAAA,yBAAAC,IAAA,sBAAAC,MAAA,6CCAlBV,EAAAC,QAAA,CAAkBU,aAAA,4BAAAC,MAAA,0CCAlBZ,EAAAC,QAAA,CAAkBY,gBAAA,iOCKHC,SAJOC,EAAMC,OAAO,CAC/BC,QAAS,kDCSAC,EAAe,SAACC,GAEzB,IAAMC,EAAYC,OAAOC,KAAKH,GAAMI,IAAI,SAAAC,GAAG,OAAAH,OAAAI,EAAA,EAAAJ,CAAA,CACvCK,GAAGF,GACAL,EAAKK,MAEJG,EAAWP,EAAUQ,OAAO,SAACC,EAAEC,GAAH,OAAQD,EAAEC,EAAEC,OAAO,GAAGC,QAAQ,GAC1DC,EAAQ,KAAUN,EAE1B,MAAO,CACHO,KAnBsB,iBAoBtBC,UAAW,CACXf,YACAO,WACAM,QACAG,eAPqBT,EAASM,KAgCzBI,EAAgB,SAACC,GAM1B,MAAQ,CACLJ,KAnDuB,iBAoDvBK,WAPgBlB,OAAOC,KAAKgB,GAAQf,IAAI,SAAAiB,GAAK,OAAAnB,OAAAI,EAAA,EAAAJ,CAAA,CAC5CK,GAAIc,GACDF,EAAOE,QCrDZC,EAAe,CACjBrB,UAAW,GACXO,SAAU,EACVe,QAAQ,EACRT,MAAO,EACPG,eAAe,EACfO,MAAM,MA0BKC,EAxBK,WAA+B,IAA9BC,EAA8BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAxBL,EAAaQ,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC/C,OAAQC,EAAOf,MACX,IDTsB,iBCWlB,OADAgB,QAAQC,IAAIF,EAAO7B,WACZC,OAAAI,EAAA,EAAAJ,CAAA,GACAwB,EACAI,EAAOd,UAFd,CAGIQ,MAAM,OAEd,IDfyB,oBCgBrB,OAAOtB,OAAAI,EAAA,EAAAJ,CAAA,GACAwB,EADP,CAEIF,MAAMM,EAAON,QAEjB,IDnBiB,gBCoBjB,OAAOtB,OAAAI,EAAA,EAAAJ,CAAA,GACAwB,EADP,CAEIF,MAAM,MACHM,EAAOd,WAElB,QAAS,OAAOU,YC5BlBJ,EAAe,CACjBF,WAAW,KACXC,MAAM,GACNG,OAAM,GAsBKS,EAnBU,WAA+B,IAA9BP,EAA8BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAxBL,EAAaQ,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACpD,OAAQC,EAAOf,MACX,IFFsB,iBEGpB,OAAOb,OAAAI,EAAA,EAAAJ,CAAA,GACAwB,EADP,CAEIN,WAAWlB,OAAAgC,EAAA,EAAAhC,CAAK4B,EAAOV,YACvBI,OAAM,IAEV,IFNmB,gBEOnB,OAAOtB,OAAAI,EAAA,EAAAJ,CAAA,GACAwB,EADP,CAEIL,MAAMS,EAAOT,MACbG,OAAM,IAEZ,QAAS,OAAOE,IClBTS,cAAgB,CAC9BnC,KAAKyB,EACLJ,MAAOY,mFCQO9C,EAZE,SAAAiD,GAAmB,IAAjBC,EAAiBD,EAAjBC,MAAMC,EAAWF,EAAXE,OAEjBC,EAAU,CAACC,IAAMnD,OAAe,YAARgD,EAAkBG,IAAMlD,IAAI,MACpDmD,EAAS,CAACD,IAAMrD,SAASkD,EAAMK,SAAS,SAASF,IAAMjD,MAAM,MACnE,OACIoD,EAAAjC,EAAAkC,cAAA,OAAKC,UAAWJ,EAAOK,KAAK,MAC1BH,EAAAjC,EAAAkC,cAAA,KAAGC,UAAWL,IAAMpD,OAAQiD,GAC5BM,EAAAjC,EAAAkC,cAAA,KAAGC,UAAWN,EAAQO,KAAK,MAA3B,IAAmCC,WAAWT,GAAQzB,QAAQ,MCPvDmC,EAFH,SAAAC,GAAK,OAAIA,EAAMC,UCiBZC,EAbK,SAAAf,GAAgB,IAC3BgB,EAD2BhB,EAAdpB,UACMZ,IAAI,SAAAiD,GAAI,OAC5BV,EAAAjC,EAAAkC,cAACU,EAAD,CAAUjD,IAAKgD,EAAKhB,MAAOA,MAAOgB,EAAKhB,MAAOC,OAAQe,EAAKf,WAG/D,OACIK,EAAAjC,EAAAkC,cAACW,EAAD,KACKH,qBCKEI,EAbF,SAAApB,GAAmC,IAAjCqB,EAAiCrB,EAAjCqB,KAAKC,EAA4BtB,EAA5BsB,MAAM9C,EAAsBwB,EAAtBxB,MAAM+C,EAAgBvB,EAAhBuB,YAC5B,OACIhB,EAAAjC,EAAAkC,cAAA,OAAKC,UAAWL,IAAMxD,UAClB2D,EAAAjC,EAAAkC,cAAA,OAAKgB,IAAKF,EAAOG,IAAKJ,IACtBd,EAAAjC,EAAAkC,cAAA,OAAKC,UAAWL,IAAMvD,QACtB0D,EAAAjC,EAAAkC,cAAA,UAAKa,GACLd,EAAAjC,EAAAkC,cAAA,SAAIe,IAEJhB,EAAAjC,EAAAkC,cAAA,KAAGC,UAAWL,IAAMtD,OAApB,IAA6B6D,WAAWnC,GAAOC,QAAQ,MCIpD9B,EAXF,SAAAqD,GAAa,IAChBnC,EADgBmC,EAAXgB,MACahD,IAAI,SAAAiD,GAAI,OACZV,EAAAjC,EAAAkC,cAACkB,EAAD5D,OAAA6D,OAAA,CAAM1D,IAAKgD,EAAK9C,IAAQ8C,MAE5C,OACAV,EAAAjC,EAAAkC,cAAA,OAAKC,UAAWL,IAAMzD,MACjBkB,qBCLH+D,6MACHtC,MAAM,CACDuC,UAAU,MAGdC,kBAAoB,WAChBC,EAAKlB,MAAMmB,mBAGfC,aAAe,SAACC,GACRA,EAAEC,iBADW,IAENN,EAAaE,EAAKzC,MAAlBuC,UAEDO,EADWL,EAAKlB,MAAf9B,OACkBsD,OAAO,SAAApD,GAAK,OAAEA,EAAMd,GAAGmE,gBAAgBT,EAAUS,gBAC1E,GAAIF,EAAU5C,OAAS,EAAG,CACtB,IAAIP,EAAQmD,EAAU,GACtBzC,QAAQC,IAAIX,GACZ,IAAIsD,EAAMtD,EAAMuD,WAChBT,EAAKlB,MAAM4B,eAAexD,EAAMd,IAChC4D,EAAKlB,MAAM6B,WAAWH,EAAI,KAI9BR,EAAKY,SAAS,CACVd,UAAU,8EAIb,IAAAe,EAAAC,KAECC,EAAOD,KAAKhC,MAAM9B,OACxBwB,EAAAjC,EAAAkC,cAAA,SAAO7B,KAAK,OAAOoE,MAAOF,KAAKvD,MAAMuC,UACrCmB,YAAY,uBAChBC,SAAU,SAACf,GAAKU,EAAKD,SAAS,CAACd,UAAUK,EAAEgB,OAAOH,WAC9C,KACA,OACIxC,EAAAjC,EAAAkC,cAAA,QAAM2C,SAAUN,KAAKZ,cACjB1B,EAAAjC,EAAAkC,cAAA,OAAKC,UAAWL,IAAM/C,OACrByF,EACDvC,EAAAjC,EAAAkC,cAAA,UAAQ4C,UAAWP,KAAKvD,MAAMuC,UAAUwB,OAAQ1E,KAAK,UAArD,kBAvCQ2E,aAsDTC,cARS,SAAAjE,GAAK,MAAK,CAC9BP,OAAQO,EAAML,MAAMD,aAGG,SAAAwE,GAAQ,MAAK,CACpCxB,cAAgB,kBAAIwB,ETapB,eAAAC,EAAA3F,OAAA4F,EAAA,EAAA5F,CAAA6F,EAAArF,EAAAsF,KAAO,SAAAC,EAAML,GAAN,IAAAM,EAAA,OAAAH,EAAArF,EAAAyF,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEyB1G,EAAM2G,IAAI,mBAFnC,OAEOL,EAFPE,EAAAI,KAICZ,EAAS1E,EAAcgF,EAASO,OAJjCL,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAOCR,EAZmC,CACvC7E,KAxD2B,sBAyD3BS,MAUkC4E,EAAAM,KAP/B,yBAAAN,EAAAO,SAAAV,EAAAhB,KAAA,YAAP,gBAAA2B,GAAA,OAAAf,EAAAgB,MAAA5B,KAAAtD,YAAA,KSZAkD,eAAgB,SAAAL,GAAS,OAAIoB,ETkCK,CAClC7E,KAlFyB,gBAmFzBM,MSpCmDmD,OAExCmB,CAA4C3B,GCrDrDvE,6MACFiC,MAAM,CACFoF,MAAK,KAGTC,YAAc,WACV5C,EAAKY,SAAS,SAACiC,GAAD,MAAc,CAACF,MAAME,EAAUF,iFAGxC,IACEA,EAAQ7B,KAAKvD,MAAboF,KACDG,EAAaH,EAAD,yCAClB,OACInE,EAAAjC,EAAAkC,cAACW,EAAD,KACIZ,EAAAjC,EAAAkC,cAAA,KAAGC,UAAWL,IAAMhD,aAChB0H,QAASjC,KAAK8B,aAChBE,GACDH,EACDnE,EAAAjC,EAAAkC,cAACuE,EAAD,CAAWrC,WAAYG,KAAKhC,MAAM6B,aAAe,KAChDG,KAAKhC,MAAMuB,UAAU7B,EAAAjC,EAAAkC,cAAA,SAAIqC,KAAKhC,MAAMuB,UAAf,YAAsC,aAnBxDkB,aA2BLC,cAHS,SAAAjE,GAAK,MAAK,CAC9B8C,UAAW9C,EAAML,MAAMA,QAEZsE,CAAyBlG,GCpBlC2H,6MAEJlD,uCAAoB,SAAAmD,IAAA,OAAAtB,EAAArF,EAAAyF,KAAA,SAAAmB,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,OAClBnC,EAAKlB,MAAMsE,mBADO,wBAAAD,EAAAX,SAAAU,EAAApC,WAIpBuC,eAAiB,WAAM,IAEfvG,EADckD,EAAKzC,MAAlBV,UAC0BP,OAAO,SAACC,EAAEC,GAAH,MAAkB,YAAVA,EAAE0B,MAAmB3B,EAAEC,EAAE2B,OAAO5B,EAAEC,EAAE2B,QAAO,GACzF6B,EAAKY,SAAS,CAAC9D,sBAGnB6D,WAAa,SAAAK,GAAS,IACbnE,EAAamD,EAAKlB,MAAlBjC,UACPe,QAAQC,IAAI,YAAYhB,GAExB,IAAMyG,EAAazG,EAAUyD,OAAO,SAAApB,GAAI,MAAiB,aAAfA,EAAKhB,QAAsB,GAAGC,OAClEf,EAAUkG,EAAatC,EACvBuC,EAAQD,EAAalG,EAAQoG,YAAY,GAC/CxD,EAAKlB,MAAM2E,aAAarG,EAAQmG,4EAEzB,IAAAG,EACwC5C,KAAKhC,MAA3ChD,EADF4H,EACE5H,UAAUe,EADZ6G,EACY7G,UAAUC,EADtB4G,EACsB5G,eACrBjB,EAAOC,EAAU2B,OAAS,EAAGe,EAAAjC,EAAAkC,cAACkF,EAAD,CAAM1E,MAAOnD,IAAe,KAC/D,OACA0C,EAAAjC,EAAAkC,cAAA,OAAKC,UAAWJ,IAAO/C,iBACpBM,EACD2C,EAAAjC,EAAAkC,cAAA,WACAD,EAAAjC,EAAAkC,cAACmF,EAAD,CAAa/G,UAAWA,IACxB2B,EAAAjC,EAAAkC,cAAA,WACAD,EAAAjC,EAAAkC,cAACU,EAAD,CAAUjD,IAAG,QAAWgC,MAAK,aAAgBC,OAAQrB,IACrD0B,EAAAjC,EAAAkC,cAACoF,EAAD,CAAOlD,WAAYG,KAAKH,qBA/BdY,aA6DHC,cAxBS,SAAAjE,GAAK,MAAI,CAC/BzB,UAAWyB,EAAM1B,KAAKC,UACtBe,UAAU,CACR,CACEqB,MAAM,WACNC,OAAQZ,EAAM1B,KAAKQ,UACnB,CACA6B,MAAM,UACNC,OAAQZ,EAAM1B,KAAKuB,SACnB,CACAc,MAAM,QACNC,OAAQZ,EAAM1B,KAAKc,QAGrBG,eAAgBS,EAAM1B,KAAKiB,iBAIJ,SAAA2E,GAC1B,MAAO,CACL2B,iBAAkB,kBAAK3B,EX9BtB,eAAAxD,EAAAlC,OAAA4F,EAAA,EAAA5F,CAAA6F,EAAArF,EAAAsF,KAAO,SAAAqB,EAAMzB,GAAN,IAAAM,EAAA,OAAAH,EAAArF,EAAAyF,KAAA,SAAAmB,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,cAAAgB,EAAAjB,KAAA,EAAAiB,EAAAhB,KAAA,EAEwB1G,EAAM2G,IAAI,cAFlC,OAEOL,EAFPoB,EAAAd,KAGCZ,EAAS7F,EAAamG,EAASO,OAHhCa,EAAAhB,KAAA,gBAAAgB,EAAAjB,KAAA,EAAAiB,EAAAZ,GAAAY,EAAA,SAKC1B,EAbD,CACH7E,KA7ByB,oBA8BzBS,MAW4B8F,EAAAZ,KALzB,yBAAAY,EAAAX,SAAAU,EAAApC,KAAA,YAAP,gBAAAgD,GAAA,OAAA7F,EAAAyE,MAAA5B,KAAAtD,YAAA,KW+BDiG,aAAe,SAACrG,EAAQmG,GAAT,OAAiB9B,EXWT,SAACrE,EAAQN,GAAT,MAA6B,CACrDF,KA9E2B,gBA+E3BC,UAAW,CACPO,UACAN,mBWfsC6D,CAAWvD,EAAQmG,OAGhD/B,CAA4CyB,GC9DrDc,EAAW,CAACC,KACZC,EAAmBC,OAAOC,sCAAuCC,IACjEC,EAAQC,YAAYC,EAAYN,EAAiBO,IAAe9B,WAAf,EAAmBqB,KAG1EU,IAASC,OACLlG,EAAAjC,EAAAkC,cAACkG,EAAA,EAAD,CAAUN,MAAOA,GACb7F,EAAAjC,EAAAkC,cAACmG,EAAD,OAEJC,SAASC,eAAe","file":"static/js/main.9c053cea.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Cart\":\"CartItems_Cart__34GhA\",\"CartItem\":\"CartItems_CartItem__4ENlg\",\"Detail\":\"CartItems_Detail__1-0JA\",\"Price\":\"CartItems_Price__2S-fZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BillItem\":\"BillItem_BillItem__2Z6Q-\",\"Label\":\"BillItem_Label__W1raO\",\"Amount\":\"BillItem_Amount__2H0SA\",\"Red\":\"BillItem_Red__3RolG\",\"Total\":\"BillItem_Total__3gznu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PromoMessage\":\"Promo_PromoMessage__GrPjY\",\"Promo\":\"Promo_Promo__oMBj0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CheckoutWrapper\":\"App_CheckoutWrapper__1QoFL\"};","import axios from 'axios';\n\nconst axiosInstance = axios.create({\n    baseURL: \"https://react-shoppingcart-af.firebaseio.com/\"\n});\n\nexport default axiosInstance;","import axios from '../../axios-cart';\n\nexport const FETCH_CART_ITEMS = 'FETCH_CART_ITEMS';\nexport const SET_CART_ITEMS = 'SET_CART_ITEMS';\nexport const FETCH_CART_FAILED = 'FETCH_CART_FAILED';\nexport const UPDATE_PRICES = 'UPDATE_PRICES';\n\nexport const FETCH_PROMOS = 'FETCH_PROMOS';\nexport const SET_PROMOTIONS = 'SET_PROMOTIONS';\nexport const FETCH_PROMOS_FAILED = 'FETCH_PROMOS_FAILED';\nexport const SET_PROMOTION = 'SET_PROMOTION';\n\nexport const setCartItems = (cart) => {\n   \n    const cartItems = Object.keys(cart).map(key => ({\n        id:key,\n        ...cart[key]\n      }));\n      const subTotal = cartItems.reduce((a,c)=>(a+c.price),0).toFixed(2); \n      const taxes = 4.5/100 * subTotal;\n      const estimatedTotal = subTotal+taxes;\n    return {\n        type: SET_CART_ITEMS,\n        billItems: {\n        cartItems,\n        subTotal,\n        taxes,\n        estimatedTotal\n        }\n    }\n}\nexport const fetchCartFailed = (error) =>{\n    return {\n        type: FETCH_CART_FAILED,\n        error\n    }\n}\n\n\nexport const fetchCartItems = () => {\n    return async dispatch =>{\n        try {\n            const response = await axios.get('/cart.json');\n            dispatch(setCartItems(response.data));\n        } catch (error) {\n            dispatch(fetchCartFailed(error));\n        }\n        \n    }\n    \n}\n\nexport const setPromotions = (promos)=> {\n    const promotions = Object.keys(promos).map(promo => ({ \n        id: promo,\n        ...promos[promo]\n    }));\n   // console.log('set proomotions',promotions)\n    return ({\n       type:SET_PROMOTIONS,\n       promotions\n    })\n}\n\nexport const fetchPromotionsFailed = error => ({\n        type:FETCH_PROMOS_FAILED,\n        error\n})\nexport const fetchPromos = () => {\n    return async dispatch => {\n        try {\n            const response =  await axios.get('promotions.json');   \n            //console.log('got response',response.data)         \n            dispatch(setPromotions(response.data));\n        }\n        catch(error) {\n            dispatch(fetchPromotionsFailed(error));\n        }\n\n    }\n}\n\nexport const applyPromo = (savings,estimatedTotal) => ({\n  type:  UPDATE_PRICES,\n  billItems: {\n      savings,\n      estimatedTotal\n  }\n})\n\n\nexport const setPromotion = promo => ({\n    type:SET_PROMOTION,\n    promo\n})\n/*\n\n\nconst response =  await axios.get('promotions.json');\n        const promos = response.data;\n        const promotions = Object.keys(promos).map(promo => ({ \n            id: promo,\n            ...promos[promo]\n        }));\n\n\n    let {billItems} = this.state;\n    const subTotal = cartItems.reduce((a,c)=>(a+c.price),0).toFixed(2);\n    const temp = billItems.filter((billItem)=>(billItem.label!==\"Subtotal\"));\n    billItems = [{label:\"Subtotal\", amount:+subTotal}, ...temp]  \n    \n    this.setState({cartItems,billItems},()=>{\n        this.calculateTotal();\n    })\n*/","import { SET_CART_ITEMS, FETCH_CART_FAILED,UPDATE_PRICES } from '../actions/actions';\n\nconst initialState = {\n    cartItems: [],\n    subTotal: 0,\n    savings:0,\n    taxes: 0 ,\n    estimatedTotal:0,\n    error:null\n}\nconst cartReducer = (state=initialState,action) => {\n    switch (action.type) {\n        case SET_CART_ITEMS :\n            console.log(action.cartItems)\n            return {\n                ...state,\n                ...action.billItems,\n                error:null\n            }\n        case FETCH_CART_FAILED :\n            return {\n                ...state,\n                error:action.error\n            }    \n            case UPDATE_PRICES:\n            return {\n                ...state,\n                error:null,\n                ...action.billItems\n            }\n        default: return state;\n    }\n}\n\nexport default cartReducer;\n","import { SET_PROMOTIONS, SET_PROMOTION } from '../actions/actions';\n\nconst initialState = {\n    promotions:null,\n    promo:\"\",\n    error:false\n}\n\nconst promotionReducer = (state=initialState,action) => {\n    switch (action.type) {\n        case SET_PROMOTIONS: \n          return {\n              ...state,\n              promotions: [...action.promotions],\n              error:false\n          }\n          case SET_PROMOTION: \n          return {\n              ...state,\n              promo:action.promo,\n              error:false\n          }  \n        default: return state;\n    }\n    \n}\n\nexport default promotionReducer;","import {combineReducers} from 'redux';\nimport cartReducer from './cartReducer';\nimport promotionReducer from './promotionReducer';\n\nexport default combineReducers({\n cart:cartReducer,\n promo: promotionReducer\n});\n","import React from 'react';\nimport style from './BillItem.module.css'\nconst BillItem = ({label,amount}) =>{\n  //console.log(label)\n  const classes = [style.Amount,label===\"Savings\"?style.Red:null];\n  const styles = [style.BillItem,label.includes('Total')?style.Total:null]\n  return (\n      <div className={styles.join(\" \")}>\n        <p className={style.Label}>{label}</p>\n        <p className={classes.join(\" \")}>${parseFloat(amount).toFixed(2)}</p>\n      </div>\n  )\n}\n\nexport default BillItem;","const Aux = props => props.children;\n\nexport default Aux;","import React from 'react';\nimport BillItem from './BillItem';\nimport Aux from '../../Aux';\n\nconst BillDetails = ({billItems}) =>{\n   const items =  billItems.map(item=>(\n        <BillItem key={item.label} label={item.label} amount={item.amount} />\n    ));\n\n    return (\n        <Aux>\n            {items}\n        </Aux>\n    )\n   \n}\n\nexport default BillDetails;","import React from 'react';\nimport style from './CartItems.module.css';\n\nconst Item = ({name,image,price,description}) =>{\n    return (\n        <div className={style.CartItem}>\n            <img src={image} alt={name}/>\n            <div className={style.Detail}>\n            <h4>{name}</h4>\n            <p>{description}</p>\n            </div>\n            <p className={style.Price}>${parseFloat(price).toFixed(2)}</p>\n        </div>\n    )\n}\n\nexport default Item;","import React from 'react';\nimport Item from './Item';\nimport style from './CartItems.module.css';\n\nconst Cart = ({items}) => {\n    const cartItems = items.map(item=>(\n                        <Item key={item.id} {...item} />)\n                     );\n    return (\n    <div className={style.Cart}>\n        {cartItems}\n    </div>\n    );\n}\n\nexport default Cart;","import React, { Component } from 'react';\nimport {connect} from 'react-redux';\nimport style from './Promo.module.css';\nimport {fetchPromos, setPromotion} from '../../store/actions/actions';\n\nclass PromoForm extends Component {\n   state={\n        promocode:\"\"\n    }\n\n    componentDidMount = () => {\n        this.props.onFetchPromos();\n    }\n\n    handleSubmit = (e)=> {\n            e.preventDefault();\n            const {promocode} = this.state;\n            const {promos} = this.props;\n            const promotion = promos.filter(promo=>promo.id.toLowerCase()===promocode.toLowerCase())\n            if (promotion.length > 0) {\n                let promo = promotion[0];\n                console.log(promo)\n                let num = promo.percentage;\n                this.props.onSetPromotion(promo.id)\n                this.props.applyPromo(num/100)\n            } else {\n                \n            }\n            this.setState({\n                promocode:\"\"\n            })\n            \n    }\n    render() {\n        //console.log('from reducer',this.props.promos)\n        const form = this.props.promos? (\n        <input type=\"text\" value={this.state.promocode}\n        placeholder=\"Enter your promocode\"\n    onChange={(e)=>{this.setState({promocode:e.target.value})}}\n    />):null;\n        return (\n            <form onSubmit={this.handleSubmit}>\n                <div className={style.Promo}>\n                {form}\n                <button disabled={!this.state.promocode.trim()} type=\"submit\">Apply</button>\n                </div>\n            </form>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    promos: state.promo.promotions\n});\n\nconst mapDispatchToProps = dispatch => ({\n    onFetchPromos : ()=>dispatch(fetchPromos()),\n    onSetPromotion: promotion => dispatch(setPromotion(promotion))\n})\nexport default connect(mapStateToProps,mapDispatchToProps)(PromoForm);","import React, { Component } from 'react';\nimport {connect} from 'react-redux';\nimport style from './Promo.module.css';\nimport Aux from '../../Aux';\nimport PromoForm from './PromoForm';\n\nclass Promo extends Component {\n    state={\n        open:false\n    }\n\n    handleClick = () => {\n        this.setState((prevState)=>({open:!prevState.open}));\n    }\n\n    render() {\n        const {open} = this.state;\n        const promoText = !open? `Apply promo code +`:`Hide Promo Code -`;\n        return (\n            <Aux>\n                <p className={style.PromoMessage} \n                    onClick={this.handleClick}\n                >{promoText}</p>\n                {open?\n                <PromoForm applyPromo={this.props.applyPromo} />:null}\n                {this.props.promotion?<p>{this.props.promotion} APPLIED</p>:null}\n            </Aux>\n        )\n    }\n}\nconst mapStateToProps = state => ({\n    promotion: state.promo.promo\n})\nexport default connect(mapStateToProps)(Promo);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\n\nimport styles from './App.module.css';\nimport BillDetails from './Component/BillDetails/BillDetails';\nimport BillItem from './Component/BillDetails/BillItem';\nimport Cart from './Component/CartItems/Cart';\nimport Promo from './Containers/Promo/Promo';\n\nimport {fetchCartItems,applyPromo} from './store/actions/actions';\n\n\nclass App extends Component {\n  \n  componentDidMount = async  () =>{\n    this.props.onfetchCartItems();\n  }\n  \n  calculateTotal = () => {\n    const {billItems} = this.state;\n    const estimatedTotal = billItems.reduce((a,c)=> c.label==='Savings'? a-c.amount:a+c.amount,0);\n      this.setState({estimatedTotal});\n  }\n\n  applyPromo = value => {\n    const {billItems} = this.props;\n    console.log('billItems',billItems);\n    //const itemSavings = billItems.filter(item=>item.label === 'Savings');\n    const itemsTotal = billItems.filter(item=>item.label === 'SubTotal')[0].amount;\n    const savings = itemsTotal * value;\n    const total = itemsTotal - savings.toPrecision(4);\n    this.props.onApplyPromo(savings,total);\n  }\n  render() {\n      const {cartItems,billItems,estimatedTotal} = this.props;\n      const cart = cartItems.length > 0? <Cart items={cartItems} />: null ;\n      return (\n      <div className={styles.CheckoutWrapper}>\n        {cart}\n        <hr/>       \n        <BillDetails billItems={billItems} />\n        <hr />\n        <BillItem key={`Total`} label={`Est. Total`} amount={estimatedTotal} />\n        <Promo applyPromo={this.applyPromo} />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state =>({\n  cartItems: state.cart.cartItems,\n  billItems:[\n    {\n      label:\"SubTotal\",\n      amount: state.cart.subTotal\n    },{\n      label:\"Savings\",\n      amount: state.cart.savings\n    },{\n      label:\"Taxes\",\n      amount: state.cart.taxes\n    }\n  ],\n    estimatedTotal: state.cart.estimatedTotal\n  \n});\n\nconst mapDispatchToProps = dispatch =>{\n return {\n   onfetchCartItems: ()=> dispatch(fetchCartItems()),\n   onApplyPromo : (savings,total)=>dispatch(applyPromo(savings,total))\n }\n}\nexport default connect(mapStateToProps,mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport {createStore,applyMiddleware,compose} from 'redux';\nimport thunk from 'redux-thunk';\n//import { createStore } from 'redux';\nimport rootReducer from './store/reducers';\nimport './index.css';\nimport App from './App';\n\n\n//import * as serviceWorker from './serviceWorker';\nconst middleware=[thunk];\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__|| compose;\nconst store = createStore(rootReducer,composeEnhancers(applyMiddleware(...middleware)));\n\n//const store = createStore(rootReducer)\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>, \n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}